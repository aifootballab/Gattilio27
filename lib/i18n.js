// Simple i18n system - Italian/English
const translations = {
  it: {
    // Dashboard
    dashboard: 'Dashboard',
    roster: 'Roster',
    yourPlayers: 'I tuoi giocatori',
    viewPlayers: 'Visualizza Giocatori',
    manageCollection: 'Gestisci la tua collezione',
    squadOverview: 'Panoramica Squadra',
    yourSquad: 'La tua rosa',
    squadSlots: 'Rosa (21 slot)',
    startersAndBench: 'Titolari e panchina',
    tacticalGoals: 'Obiettivi Tattici Aperti',
    goals: 'Obiettivi',
    comingSoon: 'Prossimamente...',
    userProfile: 'Profilo Utente',
    anonymousUser: 'Utente Anonimo',
    masterLevel: 'Livello Master',
    aiKnowledge: 'Conoscenza AI',
    high: 'Alta',
    matchInsights: 'Insight Partita',
    analysis: 'Analisi',
    quickLinks: 'Collegamenti Rapidi',
    navigation: 'Navigazione',
    home: 'Home',
    players: 'Giocatori',
    squadBuilder: 'Costruttore Squadra',
    dataAnalytics: 'Dati e Analisi',
    memoryHub: 'Hub Memoria',
    coaching: 'Allenamento',
    memoryInsights: 'Insight Memoria',
    aiLearning: 'Apprendimento AI',
    startSession: 'Avvia Sessione',
    opponentFormation: 'Formazione Avversaria',
    analyzeOpponent: 'Analizza formazione avversaria per contromisure',
    strugglesCoachingPress: 'Struggles coaching press',
    reluctantChangeFormation: 'Reluctant to change formation',
    prefersQuickTips: 'Prefers quick, actionable tips',
    strugglesHighPress: 'Struggles against high press',
    
    // Rosa
    squad: 'Rosa',
    uploadScreenshots: 'Carica Screenshot',
    dragDropHint: 'Trascina qui oppure clicca. Puoi caricare 2 o 3 foto per giocatore, anche miste.',
    imagesLoaded: 'Immagini caricate',
    analyzeBatch: 'Analizza batch',
    analyzing: 'Analisi…',
    reset: 'Reset',
    slot: 'Slot',
    starters: 'Titolari',
    bench: 'Panchina',
    insertPlayer: 'Inserisci questo giocatore',
    saveToSupabase: 'Salva in Supabase',
    slotSelected: 'slot selezionato',
    name: 'Nome',
    role: 'Ruolo',
    card: 'Carta',
    team: 'Team',
    boosters: 'Boosters',
    missing: 'Manca',
    missingData: 'Dati Mancanti',
    missing_detailed_stats_table: 'Statistiche Dettagliate',
    missing_skills_screen: 'Schermata Abilità',
    missing_additional_positions_screen: 'Posizioni Aggiuntive',
    missing_stats_screen: 'Schermata Statistiche',
    missing_boosters_screen: 'Schermata Boosters',
    missing_profile_screen: 'Schermata Profilo',
    myPlayers: 'I Miei Giocatori',
    playersSaved: 'giocatori salvati',
    loading: 'Caricamento...',
    noPlayersSaved: 'Nessun giocatore salvato',
    uploadScreenshotsToSee: 'Carica screenshot e salva giocatori per vederli qui',
    uploadScreenshots: 'Carica Screenshot',
    details: 'Dettagli',
    hide: 'Nascondi',
    edit: 'Modifica',
    complete: 'Completo',
    incomplete: 'Incompleto',
    missingFields: 'Manca',
    nationality: 'Nazionalità',
    physical: 'Fisico',
    age: 'Età',
    form: 'Forma',
    skills: 'Skills',
    // Caratteristiche giocatore
    weakFoot: 'Piede Debole',
    weakFootFrequency: 'Frequenza Piede Debole',
    weakFootAccuracy: 'Precisione Piede Debole',
    formDetailed: 'Forma Dettagliata',
    injuryResistance: 'Resistenza Infortuni',
    aiPlaystyles: 'Stili di Gioco IA',
    additionalPositions: 'Posizioni Aggiuntive',
    // Valori caratteristiche
    rarely: 'Raramente',
    sometimes: 'A Volte',
    often: 'Spesso',
    high: 'Alta',
    medium: 'Media',
    low: 'Bassa',
    unbreakable: 'Incrollabile',
    stable: 'Stabile',
    inconsistent: 'Instabile',
    // Valori form
    b: 'B',
    a: 'A',
    c: 'C',
    d: 'D',
    e: 'E',
    resetMyData: 'Reset miei dati Supabase',
    // Edit Player Data
    completeData: 'Completa Dati',
    missingDataSection: 'Dati Mancanti',
    addMissingData: 'Aggiungi Dati Mancanti',
    editPlayerData: 'Modifica Dati Giocatore',
    close: 'Chiudi',
    save: 'Salva',
    saving: 'Salvataggio...',
    saved: 'Dati salvati',
    statsDetails: 'Statistiche Dettagliate',
    attacking: 'Attacco',
    defending: 'Difesa',
    athleticism: 'Forza',
    physicalData: 'Dati Fisici',
    height: 'Altezza',
    weight: 'Peso',
    teamName: 'Nome Squadra',
    nationalityCountry: 'Nazionalità',
    playingStyle: 'Stile di Gioco',
    playerSkills: 'Abilità Giocatore',
    addSkill: 'Aggiungi Skill',
    removeSkill: 'Rimuovi',
    additionalSkills: 'Abilità Aggiuntive',
    addAdditionalSkill: 'Aggiungi Abilità',
    aiPlaystylesList: 'Stili di Gioco IA',
    addPlaystyle: 'Aggiungi Stile',
    additionalPositionsList: 'Posizioni Aggiuntive',
    addPosition: 'Aggiungi Posizione',
    boostersList: 'Boosters',
    addBooster: 'Aggiungi Booster',
    boosterName: 'Nome Booster',
    boosterEffect: 'Effetto',
    boosterCondition: 'Condizione di Attivazione',
    characteristics: 'Caratteristiche',
    weakFootFrequencyLabel: 'Frequenza Piede Debole',
    weakFootAccuracyLabel: 'Precisione Piede Debole',
    formDetailedLabel: 'Forma Dettagliata',
    injuryResistanceLabel: 'Resistenza Infortuni',
    cm: 'cm',
    kg: 'kg',
    years: 'anni',
    saved: 'Salvato in Supabase',
    resetSuccess: 'Dati Supabase resettati per questo utente anonimo',
    error: 'Errore',
    backToDashboard: 'Dashboard Principale',
    backToSquad: 'Rosa',
    
    // Authentication
    login: 'Accedi',
    signup: 'Registrati',
    logout: 'Esci',
    email: 'Email',
    password: 'Password',
    emailPlaceholder: 'tua@email.com',
    passwordPlaceholder: 'Minimo 6 caratteri',
    loginDescription: 'Accedi per salvare i tuoi dati permanentemente',
    signupDescription: 'Crea un account per salvare la tua rosa e profilazione',
    emailPasswordRequired: 'Email e password sono obbligatorie',
    loginError: 'Errore durante il login',
    signupError: 'Errore durante la registrazione',
    loginSuccess: 'Login effettuato con successo!',
    signupSuccess: 'Registrazione completata!',
    loggingIn: 'Accesso in corso...',
    signingUp: 'Registrazione in corso...',
    noAccountSignup: 'Non hai un account? Registrati',
    hasAccountLogin: 'Hai già un account? Accedi',
    continueAsGuest: 'Continua come ospite',
    supabaseNotAvailable: 'Supabase non disponibile',
    unexpectedError: 'Errore imprevisto',
    loggedInAs: 'Accesso come',
    
    // Statistics translations
    offensive_awareness: 'Comportamento Offensivo',
    ball_control: 'Controllo Palla',
    dribbling: 'Dribbling',
    tight_possession: 'Possesso Stretto',
    low_pass: 'Passaggio Rasoterra',
    lofted_pass: 'Passaggio Alto',
    finishing: 'Finalizzazione',
    heading: 'Colpo di Testa',
    place_kicking: 'Calci da Fermo',
    curl: 'Tiro a Giro',
    defensive_awareness: 'Comportamento Difensivo',
    defensive_engagement: 'Coinvolgimento Difensivo',
    tackling: 'Contrasto',
    aggression: 'Aggressività',
    goalkeeping: 'Comportamento PT',
    gk_catching: 'Presa PT',
    gk_parrying: 'Parata PT',
    gk_reflexes: 'Riflessi PT',
    gk_reach: 'Estensione PT',
    speed: 'Velocità',
    acceleration: 'Accelerazione',
    kicking_power: 'Potenza di Tiro',
    jump: 'Salto',
    physical_contact: 'Contatto Fisico',
    balance: 'Controllo Corpo',
    stamina: 'Resistenza',
    
    // Opponent Formation
    opponentFormationTitle: 'Formazione Avversaria',
    opponentFormationSubtitle: 'Carica screenshot della formazione avversaria per analisi e contromisure',
    backToDashboardBtn: 'Torna alla Dashboard',
    dragScreenshotHere: 'Trascina screenshot qui',
    orClickToSelect: 'o clicca per selezionare',
    uploadedScreenshot: 'Screenshot Caricato',
    extracting: 'Estrazione...',
    extractFormation: 'Estrai Formazione',
    formationExtractedSuccess: 'Formazione estratta correttamente',
    playersDetected: 'giocatori rilevati',
    formation: 'Formazione',
    overallStrength: 'Forza Complessiva',
    tacticalStyle: 'Stile Tattico',
    team: 'Squadra',
    formationNameOptional: 'Nome formazione (opzionale)',
    saveFormation: 'Salva Formazione',
    formationSaved: 'Formazione avversaria salvata',
    saveError: 'Errore salvataggio',
    playersDetectedFromScreenshot: 'Giocatori Rilevati dalla Foto',
    verifyPlayersRead: 'Verifica che tutti i giocatori siano stati letti correttamente',
    goalkeeper: 'Portiere',
    defense: 'Difesa',
    midfield: 'Centrocampo',
    attack: 'Attacco',
    role: 'Ruolo',
    substitutes: 'Sostituti',
    reserves: 'Riserve',
    loadAnotherFormation: 'Carica Altra Formazione',
    extractionError: 'Errore estrazione',
    invalidAuthToken: 'Token di autenticazione non valido. Ricarica la pagina e riprova.',
    saveError: 'Errore salvataggio',
    // Completeness
    completeness: 'Completezza',
    identity: 'Identity',
    stats: 'Stats',
    skills: 'Skills',
    boosters: 'Boosters',
    complete: 'Completo',
    incomplete: 'Incompleto',
    processingImage: 'Processando immagine',
    of: 'di',
    multiPlayerDetected: 'Rilevati giocatori diversi',
    loadSamePlayer: 'Carica 1-3 screenshot dello stesso giocatore per avere dati completi',
    missingStatsPhoto: 'Carica screenshot con statistiche dettagliate',
    missingSkillsPhoto: 'Carica screenshot con abilità e stili di gioco',
    missingBoostersPhoto: 'Carica screenshot con boosters',
    incompleteDataWarning: 'Dati incompleti: carica le foto mancanti per completare il profilo',
  },
  en: {
    // Dashboard
    dashboard: 'Dashboard',
    roster: 'Roster',
    yourPlayers: 'Your Players',
    viewPlayers: 'View Players',
    manageCollection: 'Manage your collection',
    squadOverview: 'Squad Overview',
    yourSquad: 'Your Squad',
    squadSlots: 'Squad (21 slots)',
    startersAndBench: 'Starters and bench',
    tacticalGoals: 'Open Tactical Goals',
    goals: 'Goals',
    comingSoon: 'Coming soon...',
    userProfile: 'User Profile',
    anonymousUser: 'Anonymous User',
    masterLevel: 'Master Level',
    aiKnowledge: 'AI Knowledge',
    high: 'High',
    matchInsights: 'Match Insights',
    analysis: 'Analysis',
    quickLinks: 'Quick Links',
    navigation: 'Navigation',
    home: 'Home',
    players: 'Players',
    squadBuilder: 'Squad Builder',
    dataAnalytics: 'Data & Analytics',
    memoryHub: 'Memory Hub',
    coaching: 'Coaching',
    memoryInsights: 'Memory Insights',
    aiLearning: 'AI Learning',
    startSession: 'Start Session',
    opponentFormation: 'Opponent Formation',
    analyzeOpponent: 'Analyze opponent formation for countermeasures',
    strugglesCoachingPress: 'Struggles coaching press',
    reluctantChangeFormation: 'Reluctant to change formation',
    prefersQuickTips: 'Prefers quick, actionable tips',
    strugglesHighPress: 'Struggles against high press',
    
    // Rosa
    squad: 'Squad',
    uploadScreenshots: 'Upload Screenshots',
    dragDropHint: 'Drag here or click. You can upload 2 or 3 photos per player, even mixed.',
    imagesLoaded: 'Images loaded',
    analyzeBatch: 'Analyze batch',
    analyzing: 'Analyzing…',
    reset: 'Reset',
    slot: 'Slot',
    starters: 'Starters',
    bench: 'Bench',
    insertPlayer: 'Insert this player',
    saveToSupabase: 'Save to Supabase',
    slotSelected: 'selected slot',
    name: 'Name',
    role: 'Role',
    card: 'Card',
    team: 'Team',
    boosters: 'Boosters',
    missing: 'Missing',
    missingData: 'Missing Data',
    missing_detailed_stats_table: 'Detailed Statistics',
    missing_skills_screen: 'Skills Screen',
    missing_additional_positions_screen: 'Additional Positions',
    missing_stats_screen: 'Statistics Screen',
    missing_boosters_screen: 'Boosters Screen',
    missing_profile_screen: 'Profile Screen',
    myPlayers: 'My Players',
    playersSaved: 'players saved',
    loading: 'Loading...',
    noPlayersSaved: 'No players saved',
    uploadScreenshotsToSee: 'Upload screenshots and save players to see them here',
    uploadScreenshots: 'Upload Screenshots',
    details: 'Details',
    hide: 'Hide',
    edit: 'Edit',
    complete: 'Complete',
    incomplete: 'Incomplete',
    missingFields: 'Missing',
    nationality: 'Nationality',
    physical: 'Physical',
    age: 'Age',
    form: 'Form',
    skills: 'Skills',
    // Player characteristics
    weakFoot: 'Weak Foot',
    weakFootFrequency: 'Weak Foot Frequency',
    weakFootAccuracy: 'Weak Foot Accuracy',
    formDetailed: 'Detailed Form',
    injuryResistance: 'Injury Resistance',
    aiPlaystyles: 'AI Playstyles',
    additionalPositions: 'Additional Positions',
    // Characteristic values
    rarely: 'Rarely',
    sometimes: 'Sometimes',
    often: 'Often',
    high: 'High',
    medium: 'Medium',
    low: 'Low',
    unbreakable: 'Unbreakable',
    stable: 'Stable',
    inconsistent: 'Inconsistent',
    // Form values
    b: 'B',
    a: 'A',
    c: 'C',
    d: 'D',
    e: 'E',
    resetMyData: 'Reset my Supabase data',
    // Edit Player Data
    completeData: 'Complete Data',
    missingDataSection: 'Missing Data',
    addMissingData: 'Add Missing Data',
    editPlayerData: 'Edit Player Data',
    close: 'Close',
    save: 'Save',
    saving: 'Saving...',
    saved: 'Data saved',
    statsDetails: 'Detailed Statistics',
    attacking: 'Attack',
    defending: 'Defense',
    athleticism: 'Strength',
    physicalData: 'Physical Data',
    height: 'Height',
    weight: 'Weight',
    teamName: 'Team Name',
    nationalityCountry: 'Nationality',
    playingStyle: 'Playing Style',
    playerSkills: 'Player Skills',
    addSkill: 'Add Skill',
    removeSkill: 'Remove',
    additionalSkills: 'Additional Skills',
    addAdditionalSkill: 'Add Skill',
    aiPlaystylesList: 'AI Playstyles',
    addPlaystyle: 'Add Playstyle',
    additionalPositionsList: 'Additional Positions',
    addPosition: 'Add Position',
    boostersList: 'Boosters',
    addBooster: 'Add Booster',
    boosterName: 'Booster Name',
    boosterEffect: 'Effect',
    boosterCondition: 'Activation Condition',
    characteristics: 'Characteristics',
    weakFootFrequencyLabel: 'Weak Foot Frequency',
    weakFootAccuracyLabel: 'Weak Foot Accuracy',
    formDetailedLabel: 'Detailed Form',
    injuryResistanceLabel: 'Injury Resistance',
    cm: 'cm',
    kg: 'kg',
    years: 'years',
    saved: 'Saved to Supabase',
    resetSuccess: 'Supabase data reset for this anonymous user',
    error: 'Error',
    backToDashboard: 'Main Dashboard',
    backToSquad: 'Squad',
    
    // Authentication
    login: 'Login',
    signup: 'Sign Up',
    logout: 'Logout',
    email: 'Email',
    password: 'Password',
    emailPlaceholder: 'your@email.com',
    passwordPlaceholder: 'Minimum 6 characters',
    loginDescription: 'Login to save your data permanently',
    signupDescription: 'Create an account to save your roster and profiling',
    emailPasswordRequired: 'Email and password are required',
    loginError: 'Error during login',
    signupError: 'Error during signup',
    loginSuccess: 'Login successful!',
    signupSuccess: 'Signup completed!',
    loggingIn: 'Logging in...',
    signingUp: 'Signing up...',
    noAccountSignup: "Don't have an account? Sign up",
    hasAccountLogin: 'Already have an account? Login',
    continueAsGuest: 'Continue as guest',
    supabaseNotAvailable: 'Supabase not available',
    unexpectedError: 'Unexpected error',
    loggedInAs: 'Logged in as',
    
    // Statistics translations
    offensive_awareness: 'Offensive Awareness',
    ball_control: 'Ball Control',
    dribbling: 'Dribbling',
    tight_possession: 'Tight Possession',
    low_pass: 'Low Pass',
    lofted_pass: 'Lofted Pass',
    finishing: 'Finishing',
    heading: 'Heading',
    place_kicking: 'Set Piece Taking',
    curl: 'Curl',
    defensive_awareness: 'Defensive Awareness',
    defensive_engagement: 'Defensive Engagement',
    tackling: 'Tackling',
    aggression: 'Aggression',
    goalkeeping: 'Goalkeeping',
    gk_catching: 'GK Catching',
    gk_parrying: 'GK Parrying',
    gk_reflexes: 'GK Reflexes',
    gk_reach: 'GK Reach',
    speed: 'Speed',
    acceleration: 'Acceleration',
    kicking_power: 'Kicking Power',
    jump: 'Jump',
    physical_contact: 'Physical Contact',
    balance: 'Body Control',
    stamina: 'Stamina',
    
    // Opponent Formation
    opponentFormationTitle: 'Opponent Formation',
    opponentFormationSubtitle: 'Upload opponent formation screenshot for analysis and countermeasures',
    backToDashboardBtn: 'Back to Dashboard',
    dragScreenshotHere: 'Drag screenshot here',
    orClickToSelect: 'or click to select',
    uploadedScreenshot: 'Uploaded Screenshot',
    extracting: 'Extracting...',
    extractFormation: 'Extract Formation',
    formationExtractedSuccess: 'Formation extracted successfully',
    playersDetected: 'players detected',
    formation: 'Formation',
    overallStrength: 'Overall Strength',
    tacticalStyle: 'Tactical Style',
    team: 'Team',
    formationNameOptional: 'Formation name (optional)',
    saveFormation: 'Save Formation',
    formationSaved: 'Opponent formation saved',
    saveError: 'Save error',
    playersDetectedFromScreenshot: 'Players Detected from Screenshot',
    verifyPlayersRead: 'Verify that all players were read correctly',
    goalkeeper: 'Goalkeeper',
    defense: 'Defense',
    midfield: 'Midfield',
    attack: 'Attack',
    role: 'Role',
    substitutes: 'Substitutes',
    reserves: 'Reserves',
    loadAnotherFormation: 'Load Another Formation',
    extractionError: 'Extraction error',
    invalidAuthToken: 'Invalid authentication token. Reload the page and try again.',
    saveError: 'Save error',
    // Completeness
    completeness: 'Completeness',
    identity: 'Identity',
    stats: 'Stats',
    skills: 'Skills',
    boosters: 'Boosters',
    complete: 'Complete',
    incomplete: 'Incomplete',
    processingImage: 'Processing image',
    of: 'of',
    multiPlayerDetected: 'Different players detected',
    loadSamePlayer: 'Load 1-3 screenshots of the same player for complete data',
    missingStatsPhoto: 'Load screenshot with detailed statistics',
    missingSkillsPhoto: 'Load screenshot with skills and playstyles',
    missingBoostersPhoto: 'Load screenshot with boosters',
    incompleteDataWarning: 'Incomplete data: load missing photos to complete profile',
  }
}

import React from 'react'

export function useTranslation() {
  const [lang, setLang] = React.useState(() => {
    if (typeof window !== 'undefined') {
      const saved = localStorage.getItem('app_language')
      return saved || 'it'
    }
    return 'it'
  })

  const t = (key) => {
    return translations[lang]?.[key] || translations.en[key] || key
  }

  const changeLanguage = (newLang) => {
    setLang(newLang)
    if (typeof window !== 'undefined') {
      localStorage.setItem('app_language', newLang)
    }
  }

  return { t, lang, changeLanguage }
}
